<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8.1 from src/site/markdown/usage/verification-modes.md at January 20, 2020
 | Rendered using Apache Maven Fluido Skin 1.7
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200120" />
    <meta http-equiv="Content-Language" content="en" />
    <title>junit-quickcheck &#x2013; Verification modes</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.7.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
    <script type="text/javascript" src="../js/apache-maven-fluido-1.7.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <a href="https://github.com/pholser/junit-quickcheck">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
    <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>junit-quickcheck</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="projectVersion">Version: 0.9.1</li>
        <li id="publishDate" class="pull-right">Last Published: January 20, 2020</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">junit-quickcheck</li>
    <li><a href="../index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="../download.html" title="Download"><span class="none"></span>Download</a></li>
    <li><a href="../javadoc.html" title="Javadoc"><span class="none"></span>Javadoc</a></li>
    <li><a href="../discuss.html" title="Discuss"><span class="none"></span>Discuss</a></li>
    <li><a href="../license.html" title="License"><span class="none"></span>License</a></li>
      <li class="nav-header">Use</li>
    <li><a href="../usage/getting-started.html" title="Getting Started"><span class="none"></span>Getting Started</a></li>
    <li><a href="../usage/basic-types.html" title="Basic Types"><span class="none"></span>Basic Types</a></li>
    <li><a href="../usage/other-types.html" title="Generating Values of Other Types"><span class="none"></span>Generating Values of Other Types</a></li>
    <li><a href="../usage/configuring.html" title="Configuring Generators"><span class="none"></span>Configuring Generators</a></li>
    <li><a href="../usage/constraining.html" title="Constraining Generated Values"><span class="none"></span>Constraining Generated Values</a></li>
    <li><a href="../usage/null.html" title="Generating Null Values"><span class="none"></span>Generating Null Values</a></li>
    <li><a href="../usage/complex-types.html" title="Generating Values of Complex Types"><span class="none"></span>Generating Values of Complex Types</a></li>
    <li class="active"><a href="#"><span class="none"></span>Verification Modes</a></li>
    <li><a href="../usage/seed.html" title="Seed"><span class="none"></span>Seed</a></li>
    <li><a href="../usage/shrinking.html" title="Shrinking"><span class="none"></span>Shrinking</a></li>
    <li><a href="../usage/contract-tests.html" title="Contract Tests"><span class="none"></span>Contract Tests</a></li>
      <li class="nav-header">Background</li>
    <li><a href="../background/history.html" title="History"><span class="none"></span>History</a></li>
    <li><a href="../background/migrating.html" title="Migrating from Theories"><span class="none"></span>Migrating from Theories</a></li>
    <li><a href="../background/similar-projects.html" title="Similar Projects"><span class="none"></span>Similar Projects</a></li>
      <li class="nav-header">Miscellaneous</li>
    <li><a href="../source-repository.html" title="Source Repository"><span class="none"></span>Source Repository</a></li>
    <li><a href="../issue-tracking.html" title="Issue Tracking"><span class="none"></span>Issue Tracking</a></li>
    <li><a href="../team-list.html" title="Team"><span class="none"></span>Team</a></li>
    <li><a href="../dependency-management.html" title="Dependency Management"><span class="none"></span>Dependency Management</a></li>
    <li><a href="../distribution-management.html" title="Distribution Management"><span class="none"></span>Distribution Management</a></li>
    <li><a href="../plugin-management.html" title="Plugin Management"><span class="none"></span>Plugin Management</a></li>
    <li><a href="../plugins.html" title="Plugins"><span class="none"></span>Plugins</a></li>
      <li class="nav-header">Reports</li>
    <li><a href="../reports/reports-core.html" title="junit-quickcheck-core"><span class="none"></span>junit-quickcheck-core</a></li>
    <li><a href="../reports/reports-generators.html" title="junit-quickcheck-generators"><span class="none"></span>junit-quickcheck-generators</a></li>
    <li><a href="../reports/reports-guava.html" title="junit-quickcheck-guava"><span class="none"></span>junit-quickcheck-guava</a></li>
</ul>
          <hr />
          <div id="poweredBy">
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
            <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Verification modes</h1>
<div class="section">
<h2><a name="a.E2.80.9CSampling.E2.80.9D_mode"></a>&#x201c;Sampling&#x201d; mode</h2>
<p>By default, junit-quickcheck verifies a property in &#x201c;sampling&#x201d; mode &#x2013; it generates 100 tuples of random values for the parameter list of a property, and verifies the property against each of the tuples.</p>
<p>To change the number of generated values, use the <tt>trials</tt> attribute of the <tt>@Property</tt> annotation.</p>

<div>
<div>
<pre class="source">    @RunWith(JUnitQuickcheck.class)
    public class Geography {
        @Property(trials = 250) public void northernHemisphere(
            @From(Coordinates.class) Coordinate c) {

            assumeThat(c.latitude(), greaterThan(BigDecimal.ZERO));

            assertTrue(c.inNorthernHemisphere());
        }
    }

    public class Coordinate {
        private final BigDecimal latitude, longitude;

        public Coordinate(BigDecimal latitude, BigDecimal longitude) {
            // argument checks here...

            this.latitude = latitude;
            this.longitude = longitude;
        }

        public BigDecimal latitude() { return latitude; }
        public BigDecimal longitude() { return longitude; }
        public boolean inNorthernHemisphere() {
            return latitude.compareTo(BigDecimal.ZERO) &gt; 0;
        }
    }

    public class Coordinates extends Generator&lt;Coordinate&gt; {
        @Override public Coordinate generate(
            SourceOfRandomness random,
            GenerationStatus status) {

            return new Coordinate(
                BigDecimal.valueOf(random.nextDouble(-90, 90))
                    .setScale(6, RoundingMode.CEILING),
                BigDecimal.valueOf(random.nextDouble(-180, 180))
                    .setScale(6, RoundingMode.CEILING));
        }
    }
</pre></div></div>
</div>
<div class="section">
<h2><a name="a.E2.80.9CExhaustive.E2.80.9D_mode"></a>&#x201c;Exhaustive&#x201d; mode</h2>
<p>junit-quickcheck can also verify a property in &#x201c;exhaustive&#x201d; mode. In &#x201c;exhaustive&#x201d; mode, junit-quickcheck generates <tt>trials</tt> random values for each of the property&#x2019;s parameters, and verifies the property against each member of the Cartesian product of the sets of random values for each parameter. This behavior mirrors that of the JUnit <tt>Theories</tt> runner.</p>
<p>For example, a property such as:</p>

<div>
<div>
<pre class="source">    @RunWith(JUnitQuickcheck.class)
    public class SimpleProperties {
        @Property(trials = 3) public void sum(int a, int b) {
            // ...
        }
    }
</pre></div></div>

<p>might be verified with these executions:</p>

<div>
<div>
<pre class="source">    sum(12987133, 456123400)
    sum(-283945, 75089314)
    sum(9823745, -139845713)
</pre></div></div>

<p>In &#x201c;exhaustive&#x201d; mode:</p>

<div>
<div>
<pre class="source">    @RunWith(JUnitQuickcheck.class)
    public class SimpleProperties {
        @Property(trials = 3, mode = EXHAUSTIVE)
        public void sum(int a, int b) {
            // ...
        }
    }
</pre></div></div>

<p>this might be verified with these executions:</p>

<div>
<div>
<pre class="source">    sum(-891273491, 573198457)
    sum(719283474, 573198457)
    sum(-384571913, 573198457)
    sum(-891273491, 6928374)
    sum(719283474, 6928374)
    sum(-384571913, 6928374)
    sum(-891273491, -123420835)
    sum(719283474, -123420835)
    sum(-384571913, -123420835)
</pre></div></div>
</div>
<div class="section">
<h2><a name="a.40Only_and_.40Also"></a><tt>@Only</tt> and <tt>@Also</tt></h2>
<p>These annotations can influence how junit-quickcheck chooses the set of values from which the value of a property parameter is drawn.</p>
<p>In &#x201c;sampling&#x201d; mode, there will be <tt>Property.trials()</tt> values for each parameter.</p>
<ul>

<li>If the parameter is marked with <tt>@Only</tt>, then its values are chosen at random from the specified set.</li>
<li>If the parameter is marked with <tt>@Also</tt>, then those values are used, and <tt>trials - |Also.value|</tt> values are chosen from generators.</li>
<li>Otherwise, the values are chosen exclusively by a generator.</li>
<li><tt>@Only</tt> wins over <tt>@Also</tt>.</li>
<li>There will be trials number of executions of the property, once for each &#x201c;tuple&#x201d; of arguments.</li>
</ul>
<p>In &#x201c;exhaustive&#x201d; mode, there will usually be <tt>trials</tt> values for a parameter. However:</p>
<ul>

<li>If the parameter has type <tt>boolean</tt>, <tt>Boolean</tt>, or an <tt>enum</tt>, there will be 2, 2, or <tt>values().length</tt> values, comprising the type&#x2019;s entire domain.</li>
<li>If the parameter is marked with <tt>@Only</tt>, then only those values (numbering <tt>|Only.value|</tt>) are used.</li>
<li>If the parameter is marked with <tt>@Also</tt>, then those values are used, and <tt>trials -</tt>|Also.value|` values are chosen from the generators.</li>
<li>Otherwise, <tt>trials</tt> values are chosen by a generator.</li>
<li><tt>@Only</tt> wins over <tt>@Also</tt>.</li>
<li>There will be <tt>product[ |p| | p in parameters ]</tt> number of executions of the property, one for each member of the cross-product of values to be used for each parameter.</li>
</ul>
<p>For example:</p>

<div>
<div>
<pre class="source">@RunWith(JUnitQuickcheck.class)
public class OnlyAndAlso {
    public enum Response { YES, NO, UNSURE }
    
    @Property(trials = 45)
    public void samplingWithOnly(
        int arg0,
        boolean arg1,
        Response arg2,
        @Only({&quot;1&quot;, &quot;2&quot;, &quot;0&quot;, &quot;-1&quot;}) int arg3) {
    
        /*
        Invoked 45 times.
        45 tuples (arg0, arg1, arg2, arg3) generated.
        Each value of each tuple chosen at random from its domain.
        Domain of arg3 narrowed by @Only.
        */
    }
    
    @Property(trials = 77, mode = EXHAUSTIVE)
    public void exhaustiveWithOnly(
        int arg0,
        boolean arg1,
        Response arg2,
        @Only({&quot;1&quot;, &quot;2&quot;, &quot;0&quot;, &quot;-1&quot;}) int arg3) {
    
        /*
        Invoked 77 * 2 * 3 * 4 times --
        once for each choice of 77 randomly chosen arg0,
        two possible values of arg1, three possible values of arg2,
        and four possible values of arg3.
        */
    }

    @Property(trials = 45)
    public void samplingWithAlso(
        int arg0,
        boolean arg1,
        Response arg2,
        @Also({&quot;1&quot;, &quot;2&quot;, &quot;0&quot;, &quot;-1&quot;}) int arg3) {
    
        /*
        Invoked 45 times.
        45 tuples (arg0, arg1, arg2, arg3) generated.
        Each value of each tuple chosen at random from its domain,
        except arg3 uses 1, 2, 0, -1, and 41 other randomly generated values.
        */
    }
    
    @Property(trials = 77, mode = EXHAUSTIVE)
    public void exhaustiveWithOnly(
        int arg0,
        boolean arg1,
        Response arg2,
        @Also({&quot;1&quot;, &quot;2&quot;, &quot;0&quot;, &quot;-1&quot;}) int arg3) {
    
        /*
        Invoked 77 * 2 * 3 * 77 times --
        once for each choice of 77 randomly chosen arg0,
        two possible values of arg1, three possible values of arg2,
        and the four values named in arg3 plus 73 other randomly generated
        values.
        */
    }
}
</pre></div></div>

<p><i>Note</i>: You can use <tt>@Only</tt> on types that do not have a generator.</p>
<p>By default, junit-quickcheck converts the values specified in <tt>@Only</tt> and <tt>@Also</tt> markers to values of the property parameter type via the following strategy:</p>
<ul>

<li>If present, use a <tt>public static</tt> method on the property parameter type called <tt>valueOf</tt> which accepts a single <tt>String</tt> argument and whose return type is the type itself.</li>
<li>Otherwise, if present, use a <tt>public</tt> constructor on the property parameter type which accepts a single <tt>String</tt>argument.</li>
<li>Otherwise, fail.</li>
</ul>
<p>Supply a custom conversion strategy if you wish via the <tt>by</tt> attribute of <tt>@Only</tt> or <tt>@Also</tt>.</p></div>
<div class="section">
<h2><a name="Reporting_values_and_seeds"></a>Reporting values and seeds</h2>
<p>junit-quickcheck reports the random values and seeds used for verifying a property parameter by logging them to a <a class="externalLink" href="http://www.slf4j.org/">SLF4J</a> logger named <tt>junit-quickcheck.value-reporting</tt>, at <tt>DEBUG</tt> level.</p>

<div>
<div>
<pre class="source">Verifying property propertyMethod from com.your.PropertiesClass with these values:
com.your.PropertiesClass.propertyMethod:parameterName = [-42], seed = 8007238959251963394
</pre></div></div>

<p>Add an SLF4J binding JAR file to your test class path and logging configuration for your chosen bound library to see these log messages.</p>
<p><i>Note</i>: Shrunken counterexamples, minimal or otherwise, are not reported to this log.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2020.
All rights reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
